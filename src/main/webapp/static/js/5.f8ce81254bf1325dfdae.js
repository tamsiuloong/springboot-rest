webpackJsonp([5],{530:function(t,e,a){var r=a(20)(a(617),a(737),null,null,null);t.exports=r.exports},591:function(t,e,a){t.exports={default:a(593),__esModule:!0}},593:function(t,e,a){a(595),t.exports=a(17).Number.isInteger},594:function(t,e,a){var r=a(31),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},595:function(t,e,a){var r=a(24);r(r.S,"Number",{isInteger:a(594)})},612:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},617:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(651),n=a.n(r),o=a(591),i=a.n(o),d=a(208);e.default={data:function(){var t=this,e=function(t,e,a){""===e&&a(new Error("请输入用户名"))},a=function(t,e,a){""===e&&a(new Error("请输入地址"))},r=function(t,e,a){if(""===e)return a(new Error("年龄不能为空"));setTimeout(function(){i()(n()(e))?e<18?a(new Error("必须年满18！")):a():a(new Error("请输入整数"))},1e3)};return{tempIndex:0,page:1,size:2,totalPage:4,totalElements:0,columns1:[{title:"姓名",key:"name"},{title:"年龄",key:"age"},{title:"地址",key:"addr"},{title:"操作",key:"action",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"查看"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.edit(a.index)}}},"编辑"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(a.index)}}},"删除")])}}],data1:[],modal1:!1,modal2:!1,editForm:{},addForm:{},ruleCustom:{name:[{validator:e,trigger:"blur"}],addr:[{validator:a,trigger:"blur"}],age:[{validator:r,trigger:"blur"}]}}},created:function(){this.gopage(this.page,this.size)},methods:{addUser:function(){this.modal2=!0},add:function(){var t=this;a.i(d.a)({url:"/api/user/",method:"post",data:this.addForm}).then(function(e){!0==!e.data?t.$Message.error("服务器更新错误"):t.gopage(t.page,t.size)})},show:function(t){this.$Modal.info({title:"用户信息",content:"姓名："+this.data1[t].name+"<br>年龄："+this.data1[t].age+"<br>地址："+this.data1[t].addr})},edit:function(t){this.modal1=!0,this.tempIndex=t,this.editForm.name=this.data1[t].name,this.editForm.age=this.data1[t].age,this.editForm.addr=this.data1[t].addr,this.editForm.id=this.data1[t].id},remove:function(t){var e=this,r=this.data1[t].id;a.i(d.a)({url:"/api/user/"+r,method:"delete"}).then(function(a){!0===a.data?e.data1.splice(t,1):e.$Message.error("服务器删除错误")})},update:function(){var t=this;this.modal1=!1,this.data1[this.tempIndex]=this.editForm;var e=this.data1[this.tempIndex];a.i(d.a)({url:"/api/user/",method:"put",data:e}).then(function(e){!0==!e.data?t.$Message.error("服务器更新错误"):t.gopage(t.page,t.size)})},cancel:function(){this.$Message.info("点击了取消")},gopage:function(t,e){var r=this;a.i(d.a)({url:"/api/user",method:"get",params:{page:t,size:e}}).then(function(e){r.data1=e.data.content,r.page=t,r.size=e.data.size,r.totalElements=e.data.totalElements})}}}},651:function(t,e,a){t.exports={default:a(652),__esModule:!0}},652:function(t,e,a){a(655),t.exports=parseInt},653:function(t,e,a){var r=a(12).parseInt,n=a(654).trim,o=a(612),i=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var a=n(String(t),3);return r(a,e>>>0||(i.test(a)?16:10))}:r},654:function(t,e,a){var r=a(24),n=a(80),o=a(38),i=a(612),d="["+i+"]",s="​",l=RegExp("^"+d+d+"*"),u=RegExp(d+d+"*$"),m=function(t,e,a){var n={},d=o(function(){return!!i[t]()||s[t]()!=s}),l=n[t]=d?e(c):i[t];a&&(n[a]=l),r(r.P+r.F*d,"String",n)},c=m.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=m},655:function(t,e,a){var r=a(24),n=a(653);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},737:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn"},[a("Icon",{attrs:{type:"person-add"}}),t._v(" "),a("i-button",{attrs:{type:"error"},on:{click:t.addUser}},[t._v("添加用户")]),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{columns:t.columns1,data:t.data1}}),t._v(" "),a("Page",{attrs:{total:t.totalElements,"page-size":t.size,current:t.page,align:"center"},on:{"on-change":t.gopage}}),t._v(" "),a("Modal",{attrs:{title:"编辑用户",width:"60%"},on:{"on-ok":t.update,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"editForm",attrs:{model:t.editForm,rules:t.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"用户编号",prop:"id"}},[a("Input",{attrs:{type:"text",readonly:""},model:{value:t.editForm.id,callback:function(e){t.editForm.id=e},expression:"editForm.id"}})],1),t._v(" "),a("FormItem",{attrs:{label:"姓名",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:t.editForm.name,callback:function(e){t.editForm.name=e},expression:"editForm.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"年龄",prop:"age"}},[a("Input",{attrs:{type:"text",number:""},model:{value:t.editForm.age,callback:function(e){t.editForm.age=e},expression:"editForm.age"}})],1),t._v(" "),a("FormItem",{attrs:{label:"地址",prop:"addr"}},[a("Input",{attrs:{type:"text"},model:{value:t.editForm.addr,callback:function(e){t.editForm.addr=e},expression:"editForm.addr"}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{title:"添加用户",width:"60%"},on:{"on-ok":t.add,"on-cancel":t.cancel},model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[a("Form",{ref:"addForm",attrs:{model:t.addForm,rules:t.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"姓名",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:t.addForm.name,callback:function(e){t.addForm.name=e},expression:"addForm.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"年龄",prop:"age"}},[a("Input",{attrs:{type:"text",number:""},model:{value:t.addForm.age,callback:function(e){t.addForm.age=e},expression:"addForm.age"}})],1),t._v(" "),a("FormItem",{attrs:{label:"地址",prop:"addr"}},[a("Input",{attrs:{type:"text"},model:{value:t.addForm.addr,callback:function(e){t.addForm.addr=e},expression:"addForm.addr"}})],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=5.f8ce81254bf1325dfdae.js.map